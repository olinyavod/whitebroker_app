# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub Repository –¥–ª—è WhiteBroker

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –æ–ø–∏—Å—ã–≤–∞–µ—Ç, –∫–∞–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —Å–µ–∫—Ä–µ—Ç—ã –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã CI/CD workflow.

## üìã –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### Permissions (–†–∞–∑—Ä–µ—à–µ–Ω–∏—è)

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –≤–∫–ª—é—á–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **Actions** ‚Üí **General**
2. –í —Å–µ–∫—Ü–∏–∏ **Workflow permissions** –≤—ã–±–µ—Ä–∏—Ç–µ:
   - ‚úÖ **Read and write permissions**
   - ‚úÖ **Allow GitHub Actions to create and approve pull requests**

–≠—Ç–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω—É–∂–Ω—ã –¥–ª—è:
- –°–æ–∑–¥–∞–Ω–∏—è GitHub Releases
- –ó–∞–≥—Ä—É–∑–∫–∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ (APK/AAB —Ñ–∞–π–ª–æ–≤)

## üîê Secrets (–°–µ–∫—Ä–µ—Ç—ã) - –ù–ï–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï

–°–µ–∫—Ä–µ—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π. –ï—Å–ª–∏ –≤–∞–º –Ω–µ –Ω—É–∂–Ω—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –º–æ–∂–µ—Ç–µ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —ç—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª.

### –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã:
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **Secrets and variables** ‚Üí **Actions**
2. –ù–∞–∂–º–∏—Ç–µ **New repository secret**

### –°–ø–∏—Å–æ–∫ —Å–µ–∫—Ä–µ—Ç–æ–≤:

| –ù–∞–∑–≤–∞–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ | –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å |
|----------|----------|-------------|--------------|
| `TELEGRAM_BOT_TOKEN` | –¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π | ‚ùå –ù–µ—Ç | 1. –ù–∞–ø–∏—à–∏—Ç–µ [@BotFather](https://t.me/BotFather) –≤ Telegram<br>2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/newbot`<br>3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º<br>4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω (—Ñ–æ—Ä–º–∞—Ç: `123456789:ABCdefGHIjklMNOpqrsTUVwxyz`) |

## üìù Variables (–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ) - –ù–ï–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.

### –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **Secrets and variables** ‚Üí **Actions**
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Variables**
3. –ù–∞–∂–º–∏—Ç–µ **New repository variable**

### –°–ø–∏—Å–æ–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:

| –ù–∞–∑–≤–∞–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ | –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å |
|----------|----------|-------------|--------------|
| `TELEGRAM_CHAT_ID` | ID —á–∞—Ç–∞/–≥—Ä—É–ø–ø—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π | ‚ùå –ù–µ—Ç | 1. –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ —á–∞—Ç/–≥—Ä—É–ø–ø—É<br>2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç<br>3. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `https://api.telegram.org/bot<YOUR_BOT_TOKEN>/getUpdates`<br>4. –ù–∞–π–¥–∏—Ç–µ `"chat":{"id":...}` - —ç—Ç–æ –≤–∞—à CHAT_ID<br>5. –î–ª—è –≥—Ä—É–ø–ø ID –æ–±—ã—á–Ω–æ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π (–Ω–∞–ø—Ä–∏–º–µ—Ä: `-1001234567890`) |

## üîë –ü–æ–¥–ø–∏—Å–∞–Ω–∏–µ Android –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

### –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é .NET MAUI –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **debug keystore** –¥–ª—è –ø–æ–¥–ø–∏—Å–∞–Ω–∏—è APK/AAB —Ñ–∞–π–ª–æ–≤. –≠—Ç–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è
- ‚ùå **–ù–ï –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤ Google Play Store**

### –î–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤ Google Play Store

–ï—Å–ª–∏ –≤—ã –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Google Play, –Ω—É–∂–Ω–æ:

1. **–°–æ–∑–¥–∞—Ç—å release keystore** (–æ–¥–∏–Ω —Ä–∞–∑):
   ```bash
   keytool -genkey -v -keystore whitebroker-release.keystore -alias whitebroker -keyalg RSA -keysize 2048 -validity 10000
   ```

2. **–ó–∞–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å keystore –≤ base64**:
   ```bash
   # Windows PowerShell
   [Convert]::ToBase64String([IO.File]::ReadAllBytes("whitebroker-release.keystore")) | Out-File keystore-base64.txt
   
   # Linux/Mac
   base64 whitebroker-release.keystore > keystore-base64.txt
   ```

3. **–î–æ–±–∞–≤–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ GitHub**:

| –ù–∞–∑–≤–∞–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|----------|----------|--------|
| `ANDROID_KEYSTORE_BASE64` | Base64-encoded keystore —Ñ–∞–π–ª | (–¥–ª–∏–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –∏–∑ keystore-base64.txt) |
| `ANDROID_KEYSTORE_PASSWORD` | –ü–∞—Ä–æ–ª—å keystore | `your_keystore_password` |
| `ANDROID_KEY_ALIAS` | –ê–ª–∏–∞—Å –∫–ª—é—á–∞ | `whitebroker` |
| `ANDROID_KEY_PASSWORD` | –ü–∞—Ä–æ–ª—å –∫–ª—é—á–∞ | `your_key_password` |

4. **–û–±–Ω–æ–≤–∏—Ç—å WhiteBroker.csproj** –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è release keystore –≤ CI/CD:
   ```xml
   <PropertyGroup Condition="'$(Configuration)' == 'Release' And '$(CI)' == 'true'">
     <AndroidKeyStore>true</AndroidKeyStore>
     <AndroidSigningKeyStore>whitebroker-release.keystore</AndroidSigningKeyStore>
     <AndroidSigningKeyAlias>$(AndroidKeyAlias)</AndroidSigningKeyAlias>
     <AndroidSigningKeyPass>$(AndroidKeyPassword)</AndroidSigningKeyPass>
     <AndroidSigningStorePass>$(AndroidKeystorePassword)</AndroidSigningStorePass>
   </PropertyGroup>
   ```

5. **–û–±–Ω–æ–≤–∏—Ç—å workflow** –¥–ª—è –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è keystore (–µ—Å–ª–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è).

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. **–ë–µ–∑ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π**:
   - –ü—Ä–æ—Å—Ç–æ –∑–∞–∫–æ–º–º–∏—Ç—å—Ç–µ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `#Release`
   - Workflow –¥–æ–ª–∂–µ–Ω —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å—Å—è
   - Jobs `notify-telegram-success` –∏ `notify-telegram-failure` –±—É–¥—É—Ç –ø—Ä–æ–ø—É—â–µ–Ω—ã –∏–ª–∏ –∑–∞–≤–µ—Ä—à–∞—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π (—ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ)

2. **–° Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏**:
   - –î–æ–±–∞–≤—å—Ç–µ `TELEGRAM_BOT_TOKEN` –∏ `TELEGRAM_CHAT_ID`
   - –ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `#Release`
   - –í—ã –¥–æ–ª–∂–Ω—ã –ø–æ–ª—É—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)

–î–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã **–Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫**:

1. ‚úÖ –ü—Ä–æ—Å—Ç–æ –∑–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `#Release`:
   ```bash
   git commit -m "#Release v1.0 - –ü–µ—Ä–≤—ã–π —Ä–µ–ª–∏–∑"
   git push origin main
   ```

2. ‚úÖ Workflow –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
   - –°–æ–±–µ—Ä–µ—Ç APK –∏ AAB
   - –ü–æ–¥–ø–∏—à–µ—Ç –∏—Ö debug –∫–ª—é—á–æ–º
   - –°–æ–∑–¥–∞—Å—Ç GitHub Release
   - –ó–∞–≥—Ä—É–∑–∏—Ç —Ñ–∞–π–ª—ã

3. ‚ö†Ô∏è Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å (jobs –±—É–¥—É—Ç –ø—Ä–æ–ø—É—â–µ–Ω—ã)

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ workflow: [.github/workflows/README.md](workflows/README.md)
- –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è .NET MAUI: [Microsoft Docs](https://learn.microsoft.com/dotnet/maui/)
- –ü–æ–¥–ø–∏—Å–∞–Ω–∏–µ Android –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π: [Android Developer Docs](https://developer.android.com/studio/publish/app-signing)

